{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Login error: insert into `auth_tokens` (`expires_at`, `id`, `is_active`, `refresh_token`, `token`, `token_type`, `user_id`) values ('2025-07-09 21:59:44.185', '869441de-18dd-42ae-881f-02216c3c72a9', true, 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjNWFlZmFhYi05MGQ2LTQ2YWMtYmJiYi1lOTA3ZjA2NGMyYmIiLCJ0eXBlIjoicmVmcmVzaCIsImlhdCI6MTc1MjAyOTk4NCwiZXhwIjoxNzUyNjM0Nzg0fQ.WdJ2-INAo9_AbRqHYPrk1L4pUUdXlhamUnhGVLIO_Kg', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjNWFlZmFhYi05MGQ2LTQ2YWMtYmJiYi1lOTA3ZjA2NGMyYmIiLCJlbWFpbCI6InN3aW1kdWJ6QGdtYWlsLmNvbSIsInJvbGUiOiJwbGF5ZXIiLCJpYXQiOjE3NTIwMjk5ODQsImV4cCI6MTc1MjExNjM4NH0.cxEH8AcEUmoe1Ec1g7RGGTIQwabtNHI5NHvTShLNFzc', 'access', 'c5aefaab-90d6-46ac-bbbb-e907f064c2bb') - SQLITE_ERROR: table auth_tokens has no column named is_active","service":"dnd-backend","stack":"Error: insert into `auth_tokens` (`expires_at`, `id`, `is_active`, `refresh_token`, `token`, `token_type`, `user_id`) values ('2025-07-09 21:59:44.185', '869441de-18dd-42ae-881f-02216c3c72a9', true, 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjNWFlZmFhYi05MGQ2LTQ2YWMtYmJiYi1lOTA3ZjA2NGMyYmIiLCJ0eXBlIjoicmVmcmVzaCIsImlhdCI6MTc1MjAyOTk4NCwiZXhwIjoxNzUyNjM0Nzg0fQ.WdJ2-INAo9_AbRqHYPrk1L4pUUdXlhamUnhGVLIO_Kg', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjNWFlZmFhYi05MGQ2LTQ2YWMtYmJiYi1lOTA3ZjA2NGMyYmIiLCJlbWFpbCI6InN3aW1kdWJ6QGdtYWlsLmNvbSIsInJvbGUiOiJwbGF5ZXIiLCJpYXQiOjE3NTIwMjk5ODQsImV4cCI6MTc1MjExNjM4NH0.cxEH8AcEUmoe1Ec1g7RGGTIQwabtNHI5NHvTShLNFzc', 'access', 'c5aefaab-90d6-46ac-bbbb-e907f064c2bb') - SQLITE_ERROR: table auth_tokens has no column named is_active","timestamp":"2025-07-08 21:59:44"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Authentication error: select * from `auth_tokens` where `token` = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OGJkNzEyMi0yMjgzLTRlN2QtYmMxOC0wMGM3YWJhZmMyYmUiLCJlbWFpbCI6InN3aW1Ac3cuaW0iLCJyb2xlIjoicGxheWVyIiwiaWF0IjoxNzUyMDMwMjI0LCJleHAiOjE3NTIxMTY2MjR9.TnXbXmNOnAU_8T6SXB1OfwwOEJqGzP3j-kKlYEH992U' and `user_id` = '68bd7122-2283-4e7d-bc18-00c7abafc2be' and `is_active` = true and `expires_at` > '2025-07-08 22:03:44.379' limit 1 - SQLITE_ERROR: no such column: is_active","service":"dnd-backend","stack":"Error: select * from `auth_tokens` where `token` = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OGJkNzEyMi0yMjgzLTRlN2QtYmMxOC0wMGM3YWJhZmMyYmUiLCJlbWFpbCI6InN3aW1Ac3cuaW0iLCJyb2xlIjoicGxheWVyIiwiaWF0IjoxNzUyMDMwMjI0LCJleHAiOjE3NTIxMTY2MjR9.TnXbXmNOnAU_8T6SXB1OfwwOEJqGzP3j-kKlYEH992U' and `user_id` = '68bd7122-2283-4e7d-bc18-00c7abafc2be' and `is_active` = true and `expires_at` > '2025-07-08 22:03:44.379' limit 1 - SQLITE_ERROR: no such column: is_active","timestamp":"2025-07-08 22:03:44"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Authentication error: select * from `auth_tokens` where `token` = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OGJkNzEyMi0yMjgzLTRlN2QtYmMxOC0wMGM3YWJhZmMyYmUiLCJlbWFpbCI6InN3aW1Ac3cuaW0iLCJyb2xlIjoicGxheWVyIiwiaWF0IjoxNzUyMDMwMjI0LCJleHAiOjE3NTIxMTY2MjR9.TnXbXmNOnAU_8T6SXB1OfwwOEJqGzP3j-kKlYEH992U' and `user_id` = '68bd7122-2283-4e7d-bc18-00c7abafc2be' and `is_active` = true and `expires_at` > '2025-07-08 22:03:44.385' limit 1 - SQLITE_ERROR: no such column: is_active","service":"dnd-backend","stack":"Error: select * from `auth_tokens` where `token` = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OGJkNzEyMi0yMjgzLTRlN2QtYmMxOC0wMGM3YWJhZmMyYmUiLCJlbWFpbCI6InN3aW1Ac3cuaW0iLCJyb2xlIjoicGxheWVyIiwiaWF0IjoxNzUyMDMwMjI0LCJleHAiOjE3NTIxMTY2MjR9.TnXbXmNOnAU_8T6SXB1OfwwOEJqGzP3j-kKlYEH992U' and `user_id` = '68bd7122-2283-4e7d-bc18-00c7abafc2be' and `is_active` = true and `expires_at` > '2025-07-08 22:03:44.385' limit 1 - SQLITE_ERROR: no such column: is_active","timestamp":"2025-07-08 22:03:44"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Authentication error: select * from `auth_tokens` where `token` = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OGJkNzEyMi0yMjgzLTRlN2QtYmMxOC0wMGM3YWJhZmMyYmUiLCJlbWFpbCI6InN3aW1Ac3cuaW0iLCJyb2xlIjoicGxheWVyIiwiaWF0IjoxNzUyMDMwMjI0LCJleHAiOjE3NTIxMTY2MjR9.TnXbXmNOnAU_8T6SXB1OfwwOEJqGzP3j-kKlYEH992U' and `user_id` = '68bd7122-2283-4e7d-bc18-00c7abafc2be' and `is_active` = true and `expires_at` > '2025-07-08 22:05:09.162' limit 1 - SQLITE_ERROR: no such column: is_active","service":"dnd-backend","stack":"Error: select * from `auth_tokens` where `token` = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OGJkNzEyMi0yMjgzLTRlN2QtYmMxOC0wMGM3YWJhZmMyYmUiLCJlbWFpbCI6InN3aW1Ac3cuaW0iLCJyb2xlIjoicGxheWVyIiwiaWF0IjoxNzUyMDMwMjI0LCJleHAiOjE3NTIxMTY2MjR9.TnXbXmNOnAU_8T6SXB1OfwwOEJqGzP3j-kKlYEH992U' and `user_id` = '68bd7122-2283-4e7d-bc18-00c7abafc2be' and `is_active` = true and `expires_at` > '2025-07-08 22:05:09.162' limit 1 - SQLITE_ERROR: no such column: is_active","timestamp":"2025-07-08 22:05:09"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Authentication error: select * from `auth_tokens` where `token` = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OGJkNzEyMi0yMjgzLTRlN2QtYmMxOC0wMGM3YWJhZmMyYmUiLCJlbWFpbCI6InN3aW1Ac3cuaW0iLCJyb2xlIjoicGxheWVyIiwiaWF0IjoxNzUyMDMwMjI0LCJleHAiOjE3NTIxMTY2MjR9.TnXbXmNOnAU_8T6SXB1OfwwOEJqGzP3j-kKlYEH992U' and `user_id` = '68bd7122-2283-4e7d-bc18-00c7abafc2be' and `is_active` = true and `expires_at` > '2025-07-08 22:05:19.677' limit 1 - SQLITE_ERROR: no such column: is_active","service":"dnd-backend","stack":"Error: select * from `auth_tokens` where `token` = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OGJkNzEyMi0yMjgzLTRlN2QtYmMxOC0wMGM3YWJhZmMyYmUiLCJlbWFpbCI6InN3aW1Ac3cuaW0iLCJyb2xlIjoicGxheWVyIiwiaWF0IjoxNzUyMDMwMjI0LCJleHAiOjE3NTIxMTY2MjR9.TnXbXmNOnAU_8T6SXB1OfwwOEJqGzP3j-kKlYEH992U' and `user_id` = '68bd7122-2283-4e7d-bc18-00c7abafc2be' and `is_active` = true and `expires_at` > '2025-07-08 22:05:19.677' limit 1 - SQLITE_ERROR: no such column: is_active","timestamp":"2025-07-08 22:05:19"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Authentication error: select * from `auth_tokens` where `token` = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OGJkNzEyMi0yMjgzLTRlN2QtYmMxOC0wMGM3YWJhZmMyYmUiLCJlbWFpbCI6InN3aW1Ac3cuaW0iLCJyb2xlIjoicGxheWVyIiwiaWF0IjoxNzUyMDMwMjI0LCJleHAiOjE3NTIxMTY2MjR9.TnXbXmNOnAU_8T6SXB1OfwwOEJqGzP3j-kKlYEH992U' and `user_id` = '68bd7122-2283-4e7d-bc18-00c7abafc2be' and `is_active` = true and `expires_at` > '2025-07-08 22:05:26.822' limit 1 - SQLITE_ERROR: no such column: is_active","service":"dnd-backend","stack":"Error: select * from `auth_tokens` where `token` = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OGJkNzEyMi0yMjgzLTRlN2QtYmMxOC0wMGM3YWJhZmMyYmUiLCJlbWFpbCI6InN3aW1Ac3cuaW0iLCJyb2xlIjoicGxheWVyIiwiaWF0IjoxNzUyMDMwMjI0LCJleHAiOjE3NTIxMTY2MjR9.TnXbXmNOnAU_8T6SXB1OfwwOEJqGzP3j-kKlYEH992U' and `user_id` = '68bd7122-2283-4e7d-bc18-00c7abafc2be' and `is_active` = true and `expires_at` > '2025-07-08 22:05:26.822' limit 1 - SQLITE_ERROR: no such column: is_active","timestamp":"2025-07-08 22:05:26"}
{"code":"SQLITE_CONSTRAINT","errno":19,"level":"error","message":"Join game error: insert into `game_players` (`character_id`, `game_id`, `id`, `role`, `user_id`) values (NULL, '5047aea2-b98b-45b2-909d-034337ace0ef', '4b972148-1da7-4a1b-b751-92a8049f566e', 'player', 'c940807e-fec2-4a30-bc9c-276bb4950748') - SQLITE_CONSTRAINT: NOT NULL constraint failed: game_players.character_id","service":"dnd-backend","stack":"Error: insert into `game_players` (`character_id`, `game_id`, `id`, `role`, `user_id`) values (NULL, '5047aea2-b98b-45b2-909d-034337ace0ef', '4b972148-1da7-4a1b-b751-92a8049f566e', 'player', 'c940807e-fec2-4a30-bc9c-276bb4950748') - SQLITE_CONSTRAINT: NOT NULL constraint failed: game_players.character_id","timestamp":"2025-07-08 22:07:23"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Create game error: insert into `game_sessions` (`description`, `dm_user_id`, `id`, `is_public`, `max_players`, `name`, `password_hash`, `settings`, `status`) values ('ga', 'c940807e-fec2-4a30-bc9c-276bb4950748', '25356be4-fdb6-4bdf-a97f-01933bb2988b', true, 6, 'ga', NULL, '{}', 'waiting') - SQLITE_ERROR: table game_sessions has no column named settings","service":"dnd-backend","stack":"Error: insert into `game_sessions` (`description`, `dm_user_id`, `id`, `is_public`, `max_players`, `name`, `password_hash`, `settings`, `status`) values ('ga', 'c940807e-fec2-4a30-bc9c-276bb4950748', '25356be4-fdb6-4bdf-a97f-01933bb2988b', true, 6, 'ga', NULL, '{}', 'waiting') - SQLITE_ERROR: table game_sessions has no column named settings","timestamp":"2025-07-08 22:07:31"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Create game error: insert into `game_sessions` (`description`, `dm_user_id`, `id`, `is_public`, `max_players`, `name`, `password_hash`, `settings`, `status`) values ('ga', 'c940807e-fec2-4a30-bc9c-276bb4950748', '24db1633-86d5-4764-bc0d-5f8a0d8202cc', true, 6, 'ga', NULL, '{}', 'waiting') - SQLITE_ERROR: table game_sessions has no column named settings","service":"dnd-backend","stack":"Error: insert into `game_sessions` (`description`, `dm_user_id`, `id`, `is_public`, `max_players`, `name`, `password_hash`, `settings`, `status`) values ('ga', 'c940807e-fec2-4a30-bc9c-276bb4950748', '24db1633-86d5-4764-bc0d-5f8a0d8202cc', true, 6, 'ga', NULL, '{}', 'waiting') - SQLITE_ERROR: table game_sessions has no column named settings","timestamp":"2025-07-08 22:07:36"}
{"code":"SQLITE_CONSTRAINT","errno":19,"level":"error","message":"Join game error: insert into `game_players` (`character_id`, `game_id`, `id`, `role`, `user_id`) values (NULL, '5047aea2-b98b-45b2-909d-034337ace0ef', 'f88227e2-29fc-4827-9469-b104c9ddffe8', 'player', 'c940807e-fec2-4a30-bc9c-276bb4950748') - SQLITE_CONSTRAINT: NOT NULL constraint failed: game_players.character_id","service":"dnd-backend","stack":"Error: insert into `game_players` (`character_id`, `game_id`, `id`, `role`, `user_id`) values (NULL, '5047aea2-b98b-45b2-909d-034337ace0ef', 'f88227e2-29fc-4827-9469-b104c9ddffe8', 'player', 'c940807e-fec2-4a30-bc9c-276bb4950748') - SQLITE_CONSTRAINT: NOT NULL constraint failed: game_players.character_id","timestamp":"2025-07-08 22:07:50"}
{"code":"SQLITE_CONSTRAINT","errno":19,"level":"error","message":"Join game error: insert into `game_players` (`character_id`, `game_id`, `id`, `role`, `user_id`) values (NULL, '5047aea2-b98b-45b2-909d-034337ace0ef', 'b35c0fdc-1065-45e0-b8ca-a21f3bea0718', 'player', 'c940807e-fec2-4a30-bc9c-276bb4950748') - SQLITE_CONSTRAINT: NOT NULL constraint failed: game_players.character_id","service":"dnd-backend","stack":"Error: insert into `game_players` (`character_id`, `game_id`, `id`, `role`, `user_id`) values (NULL, '5047aea2-b98b-45b2-909d-034337ace0ef', 'b35c0fdc-1065-45e0-b8ca-a21f3bea0718', 'player', 'c940807e-fec2-4a30-bc9c-276bb4950748') - SQLITE_CONSTRAINT: NOT NULL constraint failed: game_players.character_id","timestamp":"2025-07-08 22:07:51"}
{"code":"SQLITE_CONSTRAINT","errno":19,"level":"error","message":"Join game error: insert into `game_players` (`character_id`, `game_id`, `id`, `role`, `user_id`) values (NULL, '5047aea2-b98b-45b2-909d-034337ace0ef', 'e1470b54-62bd-41fe-837f-eec80b75e177', 'player', 'c940807e-fec2-4a30-bc9c-276bb4950748') - SQLITE_CONSTRAINT: NOT NULL constraint failed: game_players.character_id","service":"dnd-backend","stack":"Error: insert into `game_players` (`character_id`, `game_id`, `id`, `role`, `user_id`) values (NULL, '5047aea2-b98b-45b2-909d-034337ace0ef', 'e1470b54-62bd-41fe-837f-eec80b75e177', 'player', 'c940807e-fec2-4a30-bc9c-276bb4950748') - SQLITE_CONSTRAINT: NOT NULL constraint failed: game_players.character_id","timestamp":"2025-07-08 22:07:51"}
{"level":"error","message":"Roll dice error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [game_id] query: select * from `game_players` where `game_id` = ? and `user_id` = ? limit ?","service":"dnd-backend","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [game_id] query: select * from `game_players` where `game_id` = ? and `user_id` = ? limit ?\n    at QueryCompiler_SQLite3.toSQL (C:\\Users\\murf\\Documents\\dnd-proj\\node_modules\\knex\\lib\\query\\querycompiler.js:112:13)\n    at QueryBuilder_SQLite3.toSQL (C:\\Users\\murf\\Documents\\dnd-proj\\node_modules\\knex\\lib\\query\\querybuilder.js:84:44)\n    at ensureConnectionCallback (C:\\Users\\murf\\Documents\\dnd-proj\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (C:\\Users\\murf\\Documents\\dnd-proj\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at async Runner.run (C:\\Users\\murf\\Documents\\dnd-proj\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async rollDice (C:\\Users\\murf\\Documents\\dnd-proj\\packages\\backend\\dist\\controllers\\games.js:550:32)","timestamp":"2025-07-08 22:45:45"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Get chat messages error: select `chat_messages`.*, `users`.`username`, `users`.`display_name`, `characters`.`name` as `character_name` from `chat_messages` left join `users` on `chat_messages`.`user_id` = `users`.`id` left join `characters` on `chat_messages`.`character_id` = `characters`.`id` where `chat_messages`.`game_id` = '701866b1-dd06-45c1-92f5-817633b986df' order by `chat_messages`.`created_at` desc limit 50 - SQLITE_ERROR: no such column: chat_messages.character_id","service":"dnd-backend","stack":"Error: select `chat_messages`.*, `users`.`username`, `users`.`display_name`, `characters`.`name` as `character_name` from `chat_messages` left join `users` on `chat_messages`.`user_id` = `users`.`id` left join `characters` on `chat_messages`.`character_id` = `characters`.`id` where `chat_messages`.`game_id` = '701866b1-dd06-45c1-92f5-817633b986df' order by `chat_messages`.`created_at` desc limit 50 - SQLITE_ERROR: no such column: chat_messages.character_id","timestamp":"2025-07-09 08:51:25"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Get chat messages error: select `chat_messages`.*, `users`.`username`, `users`.`display_name`, `characters`.`name` as `character_name` from `chat_messages` left join `users` on `chat_messages`.`user_id` = `users`.`id` left join `characters` on `chat_messages`.`character_id` = `characters`.`id` where `chat_messages`.`game_id` = '701866b1-dd06-45c1-92f5-817633b986df' order by `chat_messages`.`created_at` desc limit 50 - SQLITE_ERROR: no such column: chat_messages.character_id","service":"dnd-backend","stack":"Error: select `chat_messages`.*, `users`.`username`, `users`.`display_name`, `characters`.`name` as `character_name` from `chat_messages` left join `users` on `chat_messages`.`user_id` = `users`.`id` left join `characters` on `chat_messages`.`character_id` = `characters`.`id` where `chat_messages`.`game_id` = '701866b1-dd06-45c1-92f5-817633b986df' order by `chat_messages`.`created_at` desc limit 50 - SQLITE_ERROR: no such column: chat_messages.character_id","timestamp":"2025-07-09 08:51:27"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Get chat messages error: select `chat_messages`.*, `users`.`username`, `users`.`display_name`, `characters`.`name` as `character_name` from `chat_messages` left join `users` on `chat_messages`.`user_id` = `users`.`id` left join `characters` on `chat_messages`.`character_id` = `characters`.`id` where `chat_messages`.`game_id` = '701866b1-dd06-45c1-92f5-817633b986df' order by `chat_messages`.`created_at` desc limit 50 - SQLITE_ERROR: no such column: chat_messages.character_id","service":"dnd-backend","stack":"Error: select `chat_messages`.*, `users`.`username`, `users`.`display_name`, `characters`.`name` as `character_name` from `chat_messages` left join `users` on `chat_messages`.`user_id` = `users`.`id` left join `characters` on `chat_messages`.`character_id` = `characters`.`id` where `chat_messages`.`game_id` = '701866b1-dd06-45c1-92f5-817633b986df' order by `chat_messages`.`created_at` desc limit 50 - SQLITE_ERROR: no such column: chat_messages.character_id","timestamp":"2025-07-09 08:51:28"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Get chat messages error: select `chat_messages`.*, `users`.`username`, `users`.`display_name`, `characters`.`name` as `character_name` from `chat_messages` left join `users` on `chat_messages`.`user_id` = `users`.`id` left join `characters` on `chat_messages`.`character_id` = `characters`.`id` where `chat_messages`.`game_id` = '58cc8d2a-a68c-4a30-bc4f-cee40b596b90' order by `chat_messages`.`created_at` desc limit 50 - SQLITE_ERROR: no such column: chat_messages.character_id","service":"dnd-backend","stack":"Error: select `chat_messages`.*, `users`.`username`, `users`.`display_name`, `characters`.`name` as `character_name` from `chat_messages` left join `users` on `chat_messages`.`user_id` = `users`.`id` left join `characters` on `chat_messages`.`character_id` = `characters`.`id` where `chat_messages`.`game_id` = '58cc8d2a-a68c-4a30-bc4f-cee40b596b90' order by `chat_messages`.`created_at` desc limit 50 - SQLITE_ERROR: no such column: chat_messages.character_id","timestamp":"2025-07-09 08:51:32"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Get chat messages error: select `chat_messages`.*, `users`.`username`, `users`.`display_name`, `characters`.`name` as `character_name` from `chat_messages` left join `users` on `chat_messages`.`user_id` = `users`.`id` left join `characters` on `chat_messages`.`character_id` = `characters`.`id` where `chat_messages`.`game_id` = '58cc8d2a-a68c-4a30-bc4f-cee40b596b90' order by `chat_messages`.`created_at` desc limit 50 - SQLITE_ERROR: no such column: chat_messages.character_id","service":"dnd-backend","stack":"Error: select `chat_messages`.*, `users`.`username`, `users`.`display_name`, `characters`.`name` as `character_name` from `chat_messages` left join `users` on `chat_messages`.`user_id` = `users`.`id` left join `characters` on `chat_messages`.`character_id` = `characters`.`id` where `chat_messages`.`game_id` = '58cc8d2a-a68c-4a30-bc4f-cee40b596b90' order by `chat_messages`.`created_at` desc limit 50 - SQLITE_ERROR: no such column: chat_messages.character_id","timestamp":"2025-07-09 08:51:33"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Get chat messages error: select `chat_messages`.*, `users`.`username`, `users`.`display_name`, `characters`.`name` as `character_name` from `chat_messages` left join `users` on `chat_messages`.`user_id` = `users`.`id` left join `characters` on `chat_messages`.`character_id` = `characters`.`id` where `chat_messages`.`game_id` = '58cc8d2a-a68c-4a30-bc4f-cee40b596b90' order by `chat_messages`.`created_at` desc limit 50 - SQLITE_ERROR: no such column: chat_messages.character_id","service":"dnd-backend","stack":"Error: select `chat_messages`.*, `users`.`username`, `users`.`display_name`, `characters`.`name` as `character_name` from `chat_messages` left join `users` on `chat_messages`.`user_id` = `users`.`id` left join `characters` on `chat_messages`.`character_id` = `characters`.`id` where `chat_messages`.`game_id` = '58cc8d2a-a68c-4a30-bc4f-cee40b596b90' order by `chat_messages`.`created_at` desc limit 50 - SQLITE_ERROR: no such column: chat_messages.character_id","timestamp":"2025-07-09 08:51:37"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Error getting conversations: select CASE \n            WHEN sender_id = 'ed88d059-9f86-4a53-97f5-4976ba2fa05c' THEN receiver_id \n            ELSE sender_id \n          END as partner_id, MAX(created_at) as last_message_at, (SELECT content FROM direct_messages dm2 \n            WHERE (dm2.sender_id = 'ed88d059-9f86-4a53-97f5-4976ba2fa05c' AND dm2.receiver_id = partner_id) \n               OR (dm2.receiver_id = 'ed88d059-9f86-4a53-97f5-4976ba2fa05c' AND dm2.sender_id = partner_id)\n            ORDER BY created_at DESC LIMIT 1) as last_message, COUNT(CASE WHEN receiver_id = 'ed88d059-9f86-4a53-97f5-4976ba2fa05c' AND is_read = false THEN 1 END) as unread_count from `direct_messages` where (`sender_id` = 'ed88d059-9f86-4a53-97f5-4976ba2fa05c' or `receiver_id` = 'ed88d059-9f86-4a53-97f5-4976ba2fa05c') group by `partner_id` order by `last_message_at` desc - SQLITE_ERROR: no such column: partner_id","service":"dnd-backend","stack":"Error: select CASE \n            WHEN sender_id = 'ed88d059-9f86-4a53-97f5-4976ba2fa05c' THEN receiver_id \n            ELSE sender_id \n          END as partner_id, MAX(created_at) as last_message_at, (SELECT content FROM direct_messages dm2 \n            WHERE (dm2.sender_id = 'ed88d059-9f86-4a53-97f5-4976ba2fa05c' AND dm2.receiver_id = partner_id) \n               OR (dm2.receiver_id = 'ed88d059-9f86-4a53-97f5-4976ba2fa05c' AND dm2.sender_id = partner_id)\n            ORDER BY created_at DESC LIMIT 1) as last_message, COUNT(CASE WHEN receiver_id = 'ed88d059-9f86-4a53-97f5-4976ba2fa05c' AND is_read = false THEN 1 END) as unread_count from `direct_messages` where (`sender_id` = 'ed88d059-9f86-4a53-97f5-4976ba2fa05c' or `receiver_id` = 'ed88d059-9f86-4a53-97f5-4976ba2fa05c') group by `partner_id` order by `last_message_at` desc - SQLITE_ERROR: no such column: partner_id","timestamp":"2025-07-09 09:09:13"}
{"level":"error","message":"❌ Database initialization failed: The migration directory is corrupt, the following files are missing: 001_create_users.js, 002_create_characters.js, 003_create_game_sessions.js, 004_create_game_players.js, 005_create_maps.js, 006_create_game_actions.js, 007_create_game_events.js, 008_create_dice_rolls.js, 009_create_chat_messages.js, 010_create_auth_tokens.js, 011_add_foreign_keys.js, 012_create_subscriptions.js, 013_make_character_id_nullable.js, 014_create_social_features.js, 015_enhance_user_profiles.js","service":"dnd-backend","stack":"Error: The migration directory is corrupt, the following files are missing: 001_create_users.js, 002_create_characters.js, 003_create_game_sessions.js, 004_create_game_players.js, 005_create_maps.js, 006_create_game_actions.js, 007_create_game_events.js, 008_create_dice_rolls.js, 009_create_chat_messages.js, 010_create_auth_tokens.js, 011_add_foreign_keys.js, 012_create_subscriptions.js, 013_make_character_id_nullable.js, 014_create_social_features.js, 015_enhance_user_profiles.js\n    at validateMigrationList (C:\\Users\\murf\\Documents\\dnd-proj\\node_modules\\knex\\lib\\migrations\\migrate\\Migrator.js:567:11)\n    at Migrator.latest (C:\\Users\\murf\\Documents\\dnd-proj\\node_modules\\knex\\lib\\migrations\\migrate\\Migrator.js:69:7)\n    at async initializeDatabase (C:\\Users\\murf\\Documents\\dnd-proj\\packages\\backend\\src\\database\\index.ts:57:5)\n    at async startServer (C:\\Users\\murf\\Documents\\dnd-proj\\packages\\backend\\src\\index.ts:22:5)","timestamp":"2025-07-09 15:47:49"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Error getting posts feed: select `user_posts`.*, `users`.`username` as `author_username`, `users`.`display_name` as `author_display_name`, `users`.`avatar_url` as `author_avatar`, `game_sessions`.`name` as `attached_game_name`, `game_sessions`.`system` as `attached_game_system`, `game_sessions`.`status` as `attached_game_status`, `game_sessions`.`max_players` as `attached_game_max_players`, `game_sessions`.`dm_user_id` as `attached_game_dm_id` from `user_posts` left join `users` on `user_posts`.`user_id` = `users`.`id` left join `game_sessions` on `user_posts`.`attached_game_id` = `game_sessions`.`id` where `user_posts`.`user_id` in ('ed88d059-9f86-4a53-97f5-4976ba2fa05c', 'd64d070c-9c6f-4110-a6cc-c64e61b1a64d') and `user_posts`.`is_public` = true order by `user_posts`.`created_at` desc limit 20 - SQLITE_ERROR: no such column: game_sessions.system","service":"dnd-backend","stack":"Error: select `user_posts`.*, `users`.`username` as `author_username`, `users`.`display_name` as `author_display_name`, `users`.`avatar_url` as `author_avatar`, `game_sessions`.`name` as `attached_game_name`, `game_sessions`.`system` as `attached_game_system`, `game_sessions`.`status` as `attached_game_status`, `game_sessions`.`max_players` as `attached_game_max_players`, `game_sessions`.`dm_user_id` as `attached_game_dm_id` from `user_posts` left join `users` on `user_posts`.`user_id` = `users`.`id` left join `game_sessions` on `user_posts`.`attached_game_id` = `game_sessions`.`id` where `user_posts`.`user_id` in ('ed88d059-9f86-4a53-97f5-4976ba2fa05c', 'd64d070c-9c6f-4110-a6cc-c64e61b1a64d') and `user_posts`.`is_public` = true order by `user_posts`.`created_at` desc limit 20 - SQLITE_ERROR: no such column: game_sessions.system","timestamp":"2025-07-09 15:48:30"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Error getting posts feed: select `user_posts`.*, `users`.`username` as `author_username`, `users`.`display_name` as `author_display_name`, `users`.`avatar_url` as `author_avatar`, `game_sessions`.`name` as `attached_game_name`, `game_sessions`.`system` as `attached_game_system`, `game_sessions`.`status` as `attached_game_status`, `game_sessions`.`max_players` as `attached_game_max_players`, `game_sessions`.`dm_user_id` as `attached_game_dm_id` from `user_posts` left join `users` on `user_posts`.`user_id` = `users`.`id` left join `game_sessions` on `user_posts`.`attached_game_id` = `game_sessions`.`id` where `user_posts`.`user_id` in ('ed88d059-9f86-4a53-97f5-4976ba2fa05c', 'd64d070c-9c6f-4110-a6cc-c64e61b1a64d') and `user_posts`.`is_public` = true order by `user_posts`.`created_at` desc limit 20 - SQLITE_ERROR: no such column: game_sessions.system","service":"dnd-backend","stack":"Error: select `user_posts`.*, `users`.`username` as `author_username`, `users`.`display_name` as `author_display_name`, `users`.`avatar_url` as `author_avatar`, `game_sessions`.`name` as `attached_game_name`, `game_sessions`.`system` as `attached_game_system`, `game_sessions`.`status` as `attached_game_status`, `game_sessions`.`max_players` as `attached_game_max_players`, `game_sessions`.`dm_user_id` as `attached_game_dm_id` from `user_posts` left join `users` on `user_posts`.`user_id` = `users`.`id` left join `game_sessions` on `user_posts`.`attached_game_id` = `game_sessions`.`id` where `user_posts`.`user_id` in ('ed88d059-9f86-4a53-97f5-4976ba2fa05c', 'd64d070c-9c6f-4110-a6cc-c64e61b1a64d') and `user_posts`.`is_public` = true order by `user_posts`.`created_at` desc limit 20 - SQLITE_ERROR: no such column: game_sessions.system","timestamp":"2025-07-09 17:03:20"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Error getting posts feed: select `user_posts`.*, `users`.`username` as `author_username`, `users`.`display_name` as `author_display_name`, `users`.`avatar_url` as `author_avatar`, `game_sessions`.`name` as `attached_game_name`, `game_sessions`.`system` as `attached_game_system`, `game_sessions`.`status` as `attached_game_status`, `game_sessions`.`max_players` as `attached_game_max_players`, `game_sessions`.`dm_user_id` as `attached_game_dm_id` from `user_posts` left join `users` on `user_posts`.`user_id` = `users`.`id` left join `game_sessions` on `user_posts`.`attached_game_id` = `game_sessions`.`id` where `user_posts`.`user_id` in ('ed88d059-9f86-4a53-97f5-4976ba2fa05c', 'd64d070c-9c6f-4110-a6cc-c64e61b1a64d') and `user_posts`.`is_public` = true order by `user_posts`.`created_at` desc limit 20 - SQLITE_ERROR: no such column: game_sessions.system","service":"dnd-backend","stack":"Error: select `user_posts`.*, `users`.`username` as `author_username`, `users`.`display_name` as `author_display_name`, `users`.`avatar_url` as `author_avatar`, `game_sessions`.`name` as `attached_game_name`, `game_sessions`.`system` as `attached_game_system`, `game_sessions`.`status` as `attached_game_status`, `game_sessions`.`max_players` as `attached_game_max_players`, `game_sessions`.`dm_user_id` as `attached_game_dm_id` from `user_posts` left join `users` on `user_posts`.`user_id` = `users`.`id` left join `game_sessions` on `user_posts`.`attached_game_id` = `game_sessions`.`id` where `user_posts`.`user_id` in ('ed88d059-9f86-4a53-97f5-4976ba2fa05c', 'd64d070c-9c6f-4110-a6cc-c64e61b1a64d') and `user_posts`.`is_public` = true order by `user_posts`.`created_at` desc limit 20 - SQLITE_ERROR: no such column: game_sessions.system","timestamp":"2025-07-09 18:39:37"}
{"level":"error","message":"❌ Database initialization failed: The migration directory is corrupt, the following files are missing: 001_create_users.js, 002_create_characters.js, 003_create_game_sessions.js, 004_create_game_players.js, 005_create_maps.js, 006_create_game_actions.js, 007_create_game_events.js, 008_create_dice_rolls.js, 009_create_chat_messages.js, 010_create_auth_tokens.js, 011_add_foreign_keys.js, 012_create_subscriptions.js, 013_make_character_id_nullable.js, 014_create_social_features.js, 015_enhance_user_profiles.js","service":"dnd-backend","stack":"Error: The migration directory is corrupt, the following files are missing: 001_create_users.js, 002_create_characters.js, 003_create_game_sessions.js, 004_create_game_players.js, 005_create_maps.js, 006_create_game_actions.js, 007_create_game_events.js, 008_create_dice_rolls.js, 009_create_chat_messages.js, 010_create_auth_tokens.js, 011_add_foreign_keys.js, 012_create_subscriptions.js, 013_make_character_id_nullable.js, 014_create_social_features.js, 015_enhance_user_profiles.js\n    at validateMigrationList (C:\\Users\\murf\\Documents\\dnd-proj\\node_modules\\knex\\lib\\migrations\\migrate\\Migrator.js:567:11)\n    at Migrator.latest (C:\\Users\\murf\\Documents\\dnd-proj\\node_modules\\knex\\lib\\migrations\\migrate\\Migrator.js:69:7)\n    at async initializeDatabase (C:\\Users\\murf\\Documents\\dnd-proj\\packages\\backend\\src\\database\\index.ts:57:5)\n    at async startServer (C:\\Users\\murf\\Documents\\dnd-proj\\packages\\backend\\src\\index.ts:22:5)","timestamp":"2025-07-09 18:53:36"}
